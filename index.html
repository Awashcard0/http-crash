<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- Home thing -->
    <link rel="stylesheet" href="https://awashcard0.pages.dev/home-thing/style.css">
    <script src='https://awashcard0.pages.dev/home-thing/script.js'></script>
    <!-- End home thing -->
    <title>Game</title>
</head>
<body>
    
</body>
<script>
// enter pass here
var url = "https://crash-controle.awashcard0.repl.co"

hello();

async function hello() {
  while (true) {
    await ya();
    await sleep(5000);
  }
}

async function ya() {
  let mode = await get(url + "/val");
  console.log(mode);
  if (mode.includes("ym")) {
    // Crash with msg
    alert(await get(url + "/msg"))
    console.log("crash")
  } else if (mode.includes("y")) {
    console.log("crash")
    // Just crash
  } else if (mode.includes("m")) {
    console.log("msg")
    // only msg
    alert(await get(url + "/msg"))
  } else {
    console.log("no + " + mode)
  }
}

function get(curl) {
  return new Promise((resolve, reject) => {
    const xhr = new XMLHttpRequest();
    xhr.open('GET', curl);
    xhr.onload = function() {
      if (xhr.status === 200) {
        resolve(xhr.responseText);
      } else {
        reject('Request failed. Returned status code:', xhr.status);
      }
    };
    xhr.onerror = function() {
      reject('Request failed. There was a network error.');
    };
    xhr.send();
  });
}

function sleep(ms) {
  return new Promise(resolve => setTimeout(resolve, ms));
}
</script>
</html>
